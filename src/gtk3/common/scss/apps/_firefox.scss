// This file is part of the Pop!_GTK Theme.
// See gtk.scss for full license and copyright information
/* 
 * _firefox.scss - App overrides for Firefox
 *
 * File credits: Ian Santopietro <isantop@gmail.com>
 * 
 * NOTE: Firefox does NOT use GTK for styling. It does attempt to guess the 
 * correct style from this stylesheet, so bugs may appear and are difficult to
 * track down/fix.
 */

$firefox_border_color: to200($black);

window.background:not(.csd) {
  > widget {
    // for the bookmark toolbar's separators
    > separator { 
      color: $firefox_border_color; 
    }

    // avoid black border
    > scrollbar { 
      min-width: $scrollbar_size;
      min-height: $scrollbar_size;
      background-clip: border-box;
    }

    // emphasize borders color
    > scrollbar,
    > frame > border { 
      border-color: $firefox_border_color;
    }

    > entry,
    > button > button {
      border: 1px solid $firefox_border_color;
      border-radius: $corner_radius;
      box-shadow: none;
    }

    > entry {
      min-height: 32px - 6px;

      &:focus { 
        border-color: $color_theme_2;
      }
    }

    > button > button {
      padding: 4px 8px;
      background-size: auto;
      color: $fg_color;

      &:hover { 
        background-image: image(gtkalpha(currentColor, 0.1 / 2));
      }

      &:active {
        background-image: image(gtkalpha(currentColor, 0.1));
      }
    }

    // use 16px assets for hard-coded sizing
    > checkbutton > check {
      @extend %checkradio;
      border-radius: $corner_radius;
    }

    > radiobutton > radio {
      @extend %checkradio;
      border-radius: $circular_radius;
    }
  }

  // remove ugly border around the menus
  > window > menu,
  > menu > menu { 
    border: none;
  }
  button label {
    color: to800($fg_color);
  }
}

// Firefox now uses this for selected items
text:selected { 
  @extend %selected-items;
}

// for backwards compatibility
window.background:not(.csd) {
  > widget {
    > menubar {
      color: to600($titlebar_fg_color);
      
      label,
      image {
        color: to600($titlebar_fg_color);
      }

      &:hover {
        color: $titlebar_fg_color;
      }

      &:disabled {
        color: to400($titlebar_fg_color);
      }
    }

    > frame {
      color: $firefox_border_color;
    }

    > checkbutton > check,
    > radiobutton > radio {
      margin: 0;
      padding: 0;
    }
  }

  > window.background > menu > separator {
    color: to400($inverse_fg_color);
  }
}
